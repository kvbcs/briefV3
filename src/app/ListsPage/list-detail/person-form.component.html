<div class="modal-wrapper">
  <button class="close-btn" (click)="onCancel()">✕</button>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="person-form">
    <h2>Ajouter une personne</h2>

    <label>Prénom : <input formControlName="first_name" /></label>
    <label>Nom : <input formControlName="last_name" /></label>

    <label>Genre :
      <select formControlName="gender">
        @for (g of genderOptions; track g) {
          <option [value]="g">{{ g }}</option>
        }
      </select>
    </label>

    <label>Âge : <input type="number" formControlName="age" /></label>
    <label>Aisance en français : <input type="number" formControlName="french_level" /></label>
    <label>Niveau technique : <input type="number" formControlName="tech_level" /></label>
    <label>Ancien DWWM : <input type="checkbox" formControlName="dwwm" /></label>

    <label>Profil :
      <select formControlName="profile">
        @for (p of profileOptions; track p) {
          <option [value]="p">{{ p }}</option>
        }
      </select>
    </label>

    <div class="modal-actions">
      <button type="submit" class="btn-primary">Valider</button>
      <button type="button" class="btn-secondary" (click)="onCancel()">Annuler</button>
    </div>

    @if (errorMessage) {
      <p class="error">{{ errorMessage }}</p>
    }
  </form>
</div>
