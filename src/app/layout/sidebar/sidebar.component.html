<!-- Bouton pour ouvrir/fermer la sidebar -->
<button class="sidebar-toggle" (click)="toggleSidebar()">
  {{ isOpen() ? "✕" : "☰" }}
</button>

@if (isOpen()) {
<nav class="sidebar">
  
  <!-- Zone scrollable -->
  <ul class="nav-links">
    @for (link of sidebarLinks; track link.id) {
      @if (link.roles.includes(userRole)) {
        <li>
          <a
            [routerLink]="link.path"
            [class.active]="selectedLink === link.id"
            (click)="setActive(link.id)"
          >
            {{ link.label }}
          </a>
        </li>
      }
    }
  </ul>

  <!-- Zone fixe en bas -->
  <div class="sidebar-bottom">
    <a
      routerLink="/profile"
      [class.active]="selectedLink === 'profile'"
      (click)="setActive('profile')"
      title="Profil"
    >
      <img src="icons/Profile.png" alt="Profil" class="icon-img" />
    </a>
    <a (click)="logout()" title="Déconnexion">
      <img src="icons/Logout.png" alt="Déconnexion" class="icon-img" />
    </a>
  </div>
</nav>
}
